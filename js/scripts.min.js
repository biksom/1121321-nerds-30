const writeUs = document.querySelector(".write-us"),
  writePopup = document.querySelector(".popup"),
  close = document.querySelector(".popup-close"),
  form = writePopup.querySelector("form"),
  name = writePopup.querySelector("[name=name]"),
  mail = writePopup.querySelector("[name=mail]"),
  lead = writePopup.querySelector("[name=lead]");
let isStorageSupport = !0,
  storage = "";
try { storage = localStorage.getItem("name") } catch (e) { isStorageSupport = !1 }
try { storage = localStorage.getItem("mail") } catch (e) { isStorageSupport = !1 } writeUs.addEventListener("click", function(e) { e.preventDefault(), writePopup.classList.add("modal-show"), name.focus(), storage && (name.value = storage) }), close.addEventListener("click", function(e) { e.preventDefault(), writePopup.classList.remove("modal-show"), writePopup.classList.remove("popup-input-error") }), form.addEventListener("submit", function(e) { name.value && mail.value && lead.value ? isStorageSupport && localStorage.setItem("name", name.value) : (e.preventDefault(), writePopup.classList.add("popup-input-error")) }), window.addEventListener("keydown", function(e) { 27 === e.keyCode && writePopup.classList.contains("modal-show") && (e.preventDefault(), writePopup.classList.remove("modal-show")) });
const slider = document.querySelector(".description-list");
if (slider) { const g = document.querySelectorAll(".description-item"),
    h = document.querySelectorAll(".slider-controls button");

  function toggleSlide() { var e = +this.dataset.index;
    h.forEach(function(e) { e.classList.remove("current") }), this.classList.add("current"), g.forEach(function(e) { e.classList.remove("current") }), g[e].classList.add("current") } h.forEach(function(e) { e.addEventListener("click", toggleSlide) }) }
